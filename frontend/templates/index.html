<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <title>Talk2Travel</title>
  <!-- FullCalendar -->
  <link  href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.js"></script>
  <!-- Bootstrap (모달) -->
  <link  href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <style>
    /* 자동완성 리스트가 없으면 숨김 */
    #depSuggestions, #arrSuggestions {
      display: none;
      max-height: 200px;
      overflow-y: auto;
    }
  </style>
</head>
<body>
  <div id="calendar"></div>

  <!-- 일정 입력 모달 -->
  <div class="modal fade" id="tripModal" tabindex="-1">
    <div class="modal-dialog">
      <form id="tripForm" class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">일정 정보 입력</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <!-- 더미 유저 -->
          <input type="hidden" name="user_id" value="test-user-1">
          <input type="hidden" name="start">
          <input type="hidden" name="end">

          <!-- 출발 공항 자동완성 -->
          <div class="mb-2 position-relative">
            <label for="depAirportInput" class="form-label">출발 공항</label>
            <input type="text" id="depAirportInput" class="form-control" autocomplete="off" required>
            <ul id="depSuggestions" class="list-group position-absolute w-100"></ul>
            <input type="hidden" id="departureAirport" name="departure_airport">
          </div>

          <!-- 도착 공항 자동완성 -->
          <div class="mb-2 position-relative">
            <label for="arrAirportInput" class="form-label">도착 공항</label>
            <input type="text" id="arrAirportInput" class="form-control" autocomplete="off" required>
            <ul id="arrSuggestions" class="list-group position-absolute w-100"></ul>
            <input type="hidden" id="arrivalAirport" name="arrival_airport">
          </div>

          <div class="mb-2">
            <label for="passengers" class="form-label">인원</label>
            <input id="passengers" name="passengers" type="number" class="form-control" min="1" required>
          </div>
          <div class="mb-2">
            <label for="budget" class="form-label">예산(₩)</label>
            <input id="budget" name="budget" type="number" class="form-control">
          </div>
        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-primary">저장</button>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">취소</button>
        </div>
      </form>
    </div>
  </div>

  <!-- FullCalendar JS -->
  <script src="{{ url_for('static', filename='js/fullcalendar.js') }}"></script>
</body>
</html>